/*!CK:1659859476!*//*1401158231,178134563*/

if (self.CavalryLogger) { CavalryLogger.start_js(["QIp8M"]); }

__d("ZoomCropImage.react",["Event","React","UserAgent","Vector","ZoomCropImagePreview.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=h.createClass({displayName:'ZoomCropImage',propTypes:{dimensions:h.PropTypes.object,src:h.PropTypes.string},componentDidMount:function(){var n=i.ie()<9?document.documentElement:window;this._listeners=g.listen(n,{mousemove:this._handleMouseMove.bind(this),mouseup:this._handleMouseUp.bind(this)});},componentWillUnmount:function(){for(var n in this._listeners){this._listeners[n]&&this._listeners[n].remove();this._listeners[n]=null;}},render:function(){var n=this.props.dimensions,o=n.getSize();return this.transferPropsTo(h.DOM.div({className:"_4on5",style:{height:o.y,width:o.x}},k({dimensions:n,size:o,src:this.props.src}),h.DOM.img({className:"_4on7",onDragStart:g.prevent,onMouseDown:this._handleMouseDown,src:this.props.src,style:n.getPosition()})));},_handleMouseDown:function(n){if(this._position)return;n.preventDefault();this._position=j.getEventPosition(n);},_handleMouseMove:function(n){if(!this._position)return;var o=j.getEventPosition(n),p=this._position.sub(o);this.props.onMove(p.x,p.y);this._position=o;},_handleMouseUp:function(){this._position=null;}});e.exports=m;},null);