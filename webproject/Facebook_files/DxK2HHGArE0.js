/*!CK:3665412368!*//*1401158231,178179405*/

if (self.CavalryLogger) { CavalryLogger.start_js(["kKVte"]); }

__d("ZoomCrop.react",["React","ZoomCropDimensions","ZoomCropImage.react","ZoomCropImagePreview.react","ZoomCropSlider.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.createClass({displayName:'ZoomCrop',propTypes:{center:g.PropTypes.object,cropSizeRatio:g.PropTypes.object,imageSize:g.PropTypes.object,previewSize:g.PropTypes.number,src:g.PropTypes.string},getDefaultProps:function(){return {previewSize:32};},getInitialState:function(){this._dims=new h(this.props.imageSize);if(this.props.center)this._dims.setCenter(this.props.center.x,this.props.center.y);if(this.props.cropSizeRatio){var n=this.props.cropSizeRatio.x*this.props.imageSize.x;this._dims.setZoom(this._dims.getSize().x/n);}return this._getDimensionsState();},render:function(){return (g.DOM.div({className:"_4liw"},i({className:"_1szc",dimensions:this._dims,onMove:this._handleMove,src:this.props.src}),j({className:"_1szd",dimensions:this._dims,size:{x:this.props.previewSize,y:this.props.previewSize},src:this.props.src}),k({className:"_4lix",onZoom:this._handleZoom,zoom:this.state.zoom,zoomRange:this._dims.getZoomRange()})));},getDimensions:function(){return this._dims;},_handleZoom:function(n){this._dims.setZoom(n[0]);this.setState(this._getDimensionsState());},_handleMove:function(n,o){this._dims.moveByPixels(n,o);this.setState(this._getDimensionsState());},_getDimensionsState:function(){return {dimensions:this._dims.getPosition(),zoom:this._dims.getZoom()};}});e.exports=m;},null);